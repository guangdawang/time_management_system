# 时间管理系统

一个功能完整、安全可靠的时间管理工具，支持用户注册登录、任务管理和时间追踪。提供**图形界面**和**命令行界面**两种操作方式。

## 🌟 功能特性

- 🖥️ **双界面支持** - 图形界面(GUI) + 命令行界面(CLI)
- 🔐 **安全认证** - 用户注册登录，密码加密存储
- 📝 **任务管理** - 创建、编辑、删除任务，支持优先级和标签
- 🏷️ **智能分类** - 任务状态跟踪（待办/进行中/已完成）
- ⏰ **时间规划** - 预估时间、截止日期设置
- 📊 **数据统计** - 任务完成率、时间分配统计
- 💾 **本地存储** - 数据安全保存在本地，无需网络
- 🎯 **跨平台** - 支持 Windows、Linux、macOS

## 🚀 快速开始

### 方法一：图形界面版本（推荐新手）

#### 从源代码运行

```bash
# 1. 确保已安装 Python 3.7+
python --version

# 2. 安装图形界面依赖
pip install PySimpleGUI

# 3. 运行图形界面版本
python gui_main.py
```

#### 使用打包版本（无需Python环境）

1. 下载发布页面中的 `时间管理系统GUI_绿色版.zip`
2. 解压到任意目录
3. 双击 `启动图形界面.exe` 运行

### 方法二：命令行版本（推荐高级用户）

#### 从源代码运行

```bash
# 运行命令行版本
python main.py

# 或使用启动脚本
启动系统.bat    # Windows
./启动系统.sh   # Linux/macOS
```

#### 使用打包版本

1. 下载发布页面中的 `时间管理系统_命令行版.zip`
2. 解压到任意目录
3. 运行对应系统的启动脚本

### 方法三：开发环境运行

```bash
# 克隆项目
git clone <项目地址>
cd time_management_system

# 安装所有依赖
pip install PySimpleGUI

# 运行图形界面
python gui_main.py

# 或运行命令行界面
python main.py
```

## 📁 项目结构说明

```
time_management_system/
├── 📂 auth/                 # 用户认证模块
│   ├── user_manager.py     # 用户管理
│   └── security.py         # 安全加密
├── 📂 core/                # 核心业务逻辑
│   ├── models.py          # 数据模型（Task, TimeBlock）
│   ├── storage.py         # 数据存储
│   └── task_manager.py    # 任务管理
├── 📂 data/               # 数据目录（自动创建）
│   ├── users.json        # 用户数据
│   └── tasks/           # 任务数据目录
├── 📂 ui/                # 用户界面
│   └── cli.py           # 命令行界面
├── 🎨 图形界面文件
│   ├── gui_main.py      # 图形界面主程序
│   └── start_gui.py     # 图形界面启动器
├── ⚙️ 配置文件
│   └── config.py        # 系统配置
├── 📦 打包脚本
│   ├── build_windows.py    # 命令行版本打包
│   ├── build_gui.py        # 图形界面打包
│   └── 一键打包.bat        # Windows一键打包
├── 🚀 启动脚本
│   ├── main.py             # 命令行主程序
│   ├── 启动系统.bat        # Windows启动
│   └── 启动系统.sh         # Linux/macOS启动
└── 📄 文档
    └── README.md          # 说明文档
```

## 🖥️ 图形界面使用指南

### 登录与注册

- 首次使用需要注册账户
- 用户名至少3字符，密码至少6字符
- 支持账户锁定保护（5次失败尝试）

### 主界面功能

- **任务表格**：清晰展示所有任务信息
- **菜单操作**：通过顶部菜单访问所有功能
- **快速按钮**：常用操作的快捷按钮
- **状态筛选**：按状态查看任务

### 任务管理

- **添加任务**：表单式输入，支持日历选择日期
- **编辑任务**：双击任务或使用编辑按钮
- **状态标记**：快速切换任务状态
- **删除任务**：带确认的安全删除

### 数据统计

- 图形化显示任务统计信息
- 完成率、时间统计一目了然

## ⌨️ 命令行界面使用指南

### 主要命令

```
主菜单:
1. 查看所有任务
2. 添加任务  
3. 编辑任务
4. 标记任务状态
5. 删除任务
6. 查看统计
7. 退出系统
```

### 操作示例

```bash
# 注册新用户
选择: 2
用户名: myuser
密码: mypassword

# 添加任务
选择: 2
标题: 完成项目报告
描述: 编写项目总结报告
优先级: high
截止日期: 2024-01-20
预估小时: 5
```

## 🛠️ 开发与打包

### 开发环境设置

```bash
# 安装开发依赖
pip install PySimpleGUI

# 运行测试
python main.py      # 测试命令行版本
python gui_main.py  # 测试图形界面版本
```

### 打包成可执行文件

#### Windows 图形界面版本

```bash
# 方法一：使用打包脚本
python build_gui.py

# 方法二：一键打包
一键打包.bat
```

#### Windows 命令行版本

```bash
python build_windows.py
```

#### Linux/macOS

```bash
# 命令行版本
pyinstaller --onefile --console --name="时间管理系统" main.py

# 图形界面版本  
pyinstaller --onefile --windowed --name="时间管理系统GUI" start_gui.py
```

打包后的文件在 `dist` 目录中。

## 🔒 数据安全

- 🔑 **密码加密**：使用SHA256加盐哈希存储
- 🔐 **会话管理**：安全的会话令牌机制
- 🚫 **登录保护**：失败次数限制，账户锁定
- 💾 **本地存储**：所有数据保存在用户本地
- 🛡️ **数据隔离**：用户数据完全隔离

## ⚙️ 配置说明

系统自动创建配置：

- `data/users.json` - 用户账户信息
- `data/tasks/` - 用户任务数据目录
- 首次运行自动初始化所需文件

## 🐛 故障排除

### 常见问题

**Q: 启动图形界面时提示"ModuleNotFoundError: No module named 'PySimpleGUI'"**
A: 需要安装依赖：`pip install PySimpleGUI`

**Q: 打包后的程序无法启动**
A: 可能是杀毒软件误报，添加信任或使用Python版本运行源代码

**Q: 无法保存数据**
A: 检查目录写入权限，确保 `data` 目录可写

**Q: 登录失败**
A: 检查用户名密码，或注册新账户。连续失败5次会锁定账户1小时

### 环境要求

- Python 3.7 或更高版本
- Windows 7+/ macOS 10.10+/ Linux
- 至少 100MB 可用磁盘空间

## 📄 许可证

本项目采用 MIT 许可证。

## 🤝 贡献

欢迎提交 Issue 和 Pull Request 来改进这个项目。

## 🎯 版本信息

- 当前版本：v2.0.0
- 更新内容：新增图形界面，优化项目结构
- 支持平台：Windows、Linux、macOS
- 最后更新：2025年10月

---

**选择适合你的界面，开始高效管理时间吧！** ⏰✨

- 🖥️ **图形界面** - 适合新手，鼠标操作，直观易用
- ⌨️ **命令行界面** - 适合高手，键盘操作，高效快捷

如有问题或建议，请通过项目Issue反馈。
